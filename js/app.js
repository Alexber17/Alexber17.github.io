$(()=>{

    //////////////////////////Array that define the Ways of the Game////////////////////////
    const levelOne=[600
        ,601
        ,602
        ,603
        ,604
        ,605
        ,606
        ,607
        ,608
        ,609
        ,610
        ,611
        ,612
        ,613
        ,614
        ,615
        ,616
        ,617
        ,618
        ,619
        ,620
        ,621
        ,622
        ,623
        ,624
        ,625
        ,626
        ,627
        ,628
        ,629
        ,630
        ,631
        ,632
        ,633
        ,634
        ,635
        ,636
        ,637
        ,638
        ,639
        ,640
        ,641
        ,642
        ,643
        ,644
        ,645
        ,646
        ,647
        ,648
        ,649
        ,650
        ,651
        ,551
        ,552
        ,553
        ,554
        ,553
        ,552
        ,551
        ,550
        ,549
        ,550
        ,551
        ,552
        ,652
        ,653
        ,654
        ,653
        ,552
        ,551
        ,550
        ,549
        ,548
        ,547
        ,546
        ,545
        ,546
        ,547
        ,548
        ,547
        ,548
        ,448
        ,447
        ,547
        ,546
        ,446
        ,445
        ,446
        ,447
        ,448
        ,449
        ,450
        ,451
        ,452
        ,453
        ,454
        ,455
        ,456
        ,457
        ,458
        ,459
        ,460
        ,461
        ,462
        ,463
        ,464
        ,465
        ,466
        ,467
        ,468
        ,469
        ,470
        ,471
        ,472
        ,473
        ,474
        ,475
        ,476
        ,477
        ,478
        ,479
        ,480
        ,481
        ,482
        ,483
        ,484
        ,485
        ,486
        ,487
        ,488
        ,489
        ,490
        ,491
        ,492
        ,493
        ,494
        ,495
        ,496
        ,497
        ,498
        ,499]
    const levelTwo = [100
        ,101
        ,102
        ,103
        ,104
        ,105
        ,106
        ,107
        ,108
        ,109
        ,110
        ,111
        ,112
        ,113
        ,114
        ,115
        ,116
        ,117
        ,118
        ,119
        ,120
        ,121
        ,122
        ,123
        ,124
        ,125
        ,126
        ,127
        ,128
        ,129
        ,130
        ,131
        ,132
        ,232
        ,233
        ,234
        ,233
        ,133
        ,132
        ,133
        ,132
        ,133
        ,134
        ,234
        ,235
        ,236
        ,235
        ,135
        ,134
        ,135
        ,136
        ,236
        ,237
        ,238
        ,239
        ,240
        ,241
        ,242
        ,243
        ,244
        ,245
        ,246
        ,247
        ,248
        ,247
        ,248
        ,348
        ,349
        ,449
        ,549
        ,550
        ,549
        ,649
        ,650
        ,651
        ,652
        ,552
        ,551
        ,450
        ,350
        ,349
        ,348
        ,448
        ,548
        ,648
        ,649
        ,549
        ,449
        ,450
        ,449
        ,349
        ,249
        ,250
        ,350
        ,351
        ,251
        ,250
        ,251
        ,350
        ,450
        ,451
        ,551
        ,552
        ,452
        ,451
        ,452
        ,451
        ,351
        ,352
        ,351
        ,251
        ,252
        ,251
        ,350
        ,349
        ,449
        ,450
        ,550
        ,650
        ,651
        ,652
        ,653
        ,654
        ,655
        ,656
        ,657
        ,658
        ,659
        ,660
        ,661
        ,662
        ,663
        ,664
        ,665
        ,666
        ,667
        ,668
        ,669
        ,670
        ,671
        ,672
        ,673
        ,674
        ,675
        ,676
        ,677
        ,678
        ,679
        ,680
        ,681
        ,682
        ,683
        ,684
        ,685
        ,686
        ,687
        ,688
        ,689
        ,690
        ,691
        ,692
        ,693
        ,694
        ,695
        ,696
        ,697
        ,698
        ,699]; 
    const levelTheer=[199
        ,198
         ,190
         ,191
         ,192
         ,193
         ,194
         ,195
         ,196
         ,197
         ,189
         ,196
         ,194
         ,193
         ,188
         ,180
         ,179
         ,180
         ,181
         ,182
         ,183
         ,184
         ,185
         ,186
         ,187
         ,186
         ,185
         ,184
         ,183
         ,182
         ,181
         ,180
         ,280
         ,279
         ,280
         ,281
         ,282
         ,283
         ,282
         ,281
         ,381
         ,382
         ,381
         ,380
         ,379
         ,381
         ,382
         ,383
         ,384
         ,385
         ,384
         ,383
         ,384
         ,383
         ,384
         ,386
         ,387
         ,388
         ,389
         ,390
         ,391
         ,491
         ,490
         ,489
         ,488
         ,489
         ,589
         ,590
         ,591
         ,592
         ,591
         ,590
         ,589
         ,588
         ,587
         ,588
         ,589
         ,590
         ,591
         ,592
         ,492
         ,392
         ,492
         ,491
         ,591
         ,590
         ,589
         ,590
         ,589
         ,588
         ,587
         ,586
         ,585
         ,584
         ,583
         ,582
         ,581
         ,580
         ,579
         ,578
         ,577
         ,576
         ,575
         ,574
         ,573
         ,572
         ,571
         ,570
         ,569
         ,570
         ,470
         ,471
         ,470
         ,469
         ,470
         ,370
         ,371
         ,370
         ,369
         ,368
         ,366
         ,365
         ,364
         ,363
         ,362
         ,363
         ,364
         ,365
         ,366
         ,367
         ,368
         ,367
         ,366
         ,365
         ,364
         ,363
         ,362
         ,361
         ,360
         ,359
         ,358
         ,457
         ,456
         ,457
         ,456
         ,455
         ,456
         ,356
         ,357
         ,356
         ,355
         ,354
         ,353
         ,354
         ,355
         ,455
         ,454
         ,453
         ,452
         ,453
         ,454
         ,554
         ,555
         ,556
         ,555
         ,554
         ,553
         ,552
         ,551
         ,550
         ,549
         ,548
         ,547
         ,546
         ,547
         ,548
         ,549
         ,550
         ,551
         ,552
         ,551
         ,550
         ,549
         ,548
         ,547
         ,546
         ,545
         ,544
         ,543
         ,544
         ,545
         ,546
         ,547
         ,548
         ,549
         ,550
         ,551
         ,552
         ,553
         ,554
         ,555
         ,556
         ,557
         ,558
         ,559
         ,558
         ,557
         ,556
         ,555
         ,455
         ,456
         ,457
         ,458
         ,459
         ,458
         ,457
         ,456
         ,455
         ,454
         ,354
         ,353
         ,352
         ,353
         ,354
         ,355
         ,455
         ,456
         ,457
         ,557
         ,556
         ,555
         ,554
         ,553
         ,552
         ,551
         ,550
         ,549
         ,548
         ,547
         ,546
         ,545
         ,543
         ,542
         ,541
         ,540
         ,539
         ,540
         ,541
         ,641
         ,642
         ,641
         ,640
         ,639
         ,638
         ,637
         ,636
         ,635
         ,535
         ,534
         ,533
         ,532
         ,531
         ,532
         ,533
         ,534
         ,634
         ,635
         ,636
         ,637
         ,636
         ,635
         ,634
         ,633
         ,632
         ,631
         ,632
         ,532
         ,533
         ,532
         ,531
         ,530
         ,529
         ,528
         ,527
         ,526
         ,527
         ,528
         ,428
         ,429
         ,430
         ,431
         ,430
         ,429
         ,329
         ,328
         ,329
         ,330
         ,329
         ,330
         ,331
         ,332
         ,333
         ,334
         ,335
         ,336
         ,236
         ,237
         ,238
         ,237
         ,337
         ,338
         ,339
         ,239
         ,238
         ,237
         ,236
         ,237
         ,238
         ,138
         ,137
         ,136
         ,135
         ,134
         ,133
         ,132
         ,133
         ,134
         ,135
         ,136
         ,137
         ,138
         ,139
         ,138
         ,137
         ,136
         ,135
         ,134
         ,133
         ,132
         ,131
         ,130
         ,129
         ,128
         ,127
         ,126
         ,125
         ,124
         ,123
         ,121
         ,120
         ,121
         ,122
         ,123
         ,122
         ,121
         ,120
         ,119
         ,118
         ,117
         ,116
         ,115
         ,114
         ,113
         ,112
         ,111
         ,110
         ,109
         ,108
         ,107
         ,106
         ,105
         ,104
         ,103
         ,102
         ,101
        ,100]
    const levelFour= [299
            ,298
            ,297
            ,298
            ,296
            ,295
            ,294
            ,293
            ,292
            ,291
            ,290
            ,289
            ,288
            ,287
            ,286
            ,285
            ,284
            ,283
            ,282
            ,283
            ,383
            ,384
            ,383
            ,382
            ,383
            ,382
            ,482
            ,483
            ,484
            ,483
            ,482
            ,481
            ,480
            ,479
            ,478
            ,477
            ,478
            ,378
            ,377
            ,376
            ,476
            ,376
            ,377
            ,277
            ,276
            ,277
            ,278
            ,277
            ,276
            ,275
            ,274
            ,273
            ,272
            ,271
            ,270
            ,170
            ,171
            ,172
            ,171
            ,170
            ,169
            ,168
            ,167
            ,166
            ,165
            ,164
            ,163
            ,162
            ,161
            ,160
            ,159
            ,158
            ,159
            ,259
            ,258
            ,259
            ,258
            ,358
            ,357
            ,358
            ,359
            ,360
            ,361
            ,360
            ,260
            ,261
            ,262
            ,261
            ,262
            ,362
            ,361
            ,360
            ,359
            ,358
            ,359
            ,358
            ,357
            ,356
            ,355
            ,354
            ,353
            ,352
            ,353
            ,352
            ,351
            ,350
            ,450
            ,451
            ,452
            ,451
            ,450
            ,449
            ,448
            ,447
            ,446
            ,445
            ,444
            ,443
            ,442
            ,441
            ,440
            ,439
            ,440
            ,439
            ,440
            ,439
            ,440
            ,439
            ,428
            ,440
            ,540
            ,539
            ,540
            ,541
            ,542
            ,541
            ,540
            ,640
            ,639
            ,640
            ,641
            ,642
            ,643
            ,644
            ,645
            ,646
            ,647
            ,648
            ,649
            ,650
            ,651
            ,652
            ,653
            ,654
            ,655
            ,656
            ,657
            ,658
            ,659
            ,660
            ,661
            ,662
            ,663
            ,664
            ,665
            ,666
            ,667
            ,668
            ,669
            ,769
            ,768
            ,767
            ,766
            ,767
            ,867
            ,868
            ,867
            ,866
            ,867
            ,868
            ,869
            ,868
            ,867
            ,866
            ,865
            ,864
            ,863
            ,862
            ,861
            ,860
            ,859
            ,858
            ,857
            ,856
            ,855
            ,854
            ,853
            ,852
            ,851
            ,850
            ,849
            ,848
            ,847
            ,846
            ,845
            ,844
            ,843
            ,842
            ,841
            ,840
            ,839
            ,838
            ,837
            ,836
            ,835
            ,834
            ,833
            ,733
            ,732
            ,731
            ,732
            ,832
            ,831
            ,732
            ,840
            ,839
            ,838
            ,837
            ,836
            ,835
            ,834
            ,833
            ,832
            ,831
            ,830
            ,831
            ,830
            ,831
            ,731
            ,732
            ,731
            ,732
            ,731
            ,730
            ,729
            ,728
            ,727
            ,726
            ,725
            ,724
            ,723
            ,722
            ,721
            ,720
            ,719
            ,718
            ,717
            ,617
            ,618
            ,619
            ,618
            ,619
            ,618
            ,617
            ,616
            ,615
            ,614
            ,613
            ,612
            ,611
            ,612
            ,512
            ,513
            ,514
            ,515
            ,516
            ,517
            ,518
            ,519
            ,520
            ,521
            ,522
            ,523
            ,524
            ,525
            ,526
            ,527
            ,528
            ,529
            ,530
            ,430
            ,429
            ,529
            ,528
            ,527
            ,526
            ,525
            ,524
            ,523
            ,522
            ,521
            ,520
            ,519
            ,518
            ,517
            ,516
            ,515
            ,514
            ,513
            ,512
            ,513
            ,515
            ,516
            ,517
            ,518
            ,519
            ,520
            ,522
            ,521
            ,520
            ,519
            ,518
            ,517
            ,516
            ,515
            ,514
            ,513
            ,512
            ,511
            ,512
            ,513
            ,514
            ,515
            ,516
            ,517
            ,518
            ,519
            ,520
            ,521
            ,522
            ,523
            ,524
            ,525
            ,526
            ,527
            ,528
            ,529
            ,530
            ,430
            ,330
            ,329
            ,328
            ,327
            ,326
            ,325
            ,324
            ,323
            ,322
            ,321
            ,320
            ,319
            ,318
            ,317
            ,316
            ,315
            ,314
            ,313
            ,312
            ,311
            ,310
            ,309
            ,308
            ,307
            ,306
            ,305
            ,304
            ,303
            ,302
            ,301
        ,300]
//////////////////////////////////////////////////////////////////////////////////////////////

    let currentLvl= 1; /// Define the lvl of star in the Game 
    let lives = 10;

//////////////////////////Its the Ho
    const mouseHover = (event) => {
         $(event.currentTarget).addClass('hover');
        let n= $(event.currentTarget).attr('id');
         ///This Arr is  for make Levels
        console.log(n)

        if($(event.currentTarget).hasClass('square') === true){
            GameOver()
        }    
    }

    ///Make the Maze
    const makeMaze=()=>{
        for (let i = 0; i < 1000; i++) {
            const $div = $('<div>').addClass('square').attr('id',`${i}`);
            $div.on('mouseover', mouseHover);
            
            $('#container').append($div);
            
        }

    }
    const makeNextMaze=(lvlN)=>{
        const $gameBoard = $('#gameBoard')
        $gameBoard.html('');
        const $nextContainer=$('<div>').attr('id',`container${lvlN}`);
        $gameBoard.append($nextContainer).fadeIn(150);
        for (let i = 0; i < 1000; i++) {
            const $div = $('<div>').addClass('square').attr('id',`${i}`).fadeIn(150);
            $div.on('mouseover', mouseHover);
            $nextContainer.append($div);
            
            
        }
        
    }
    const  GameOver=()=>{
        console.log('Game over');
       
        console.log(lives);
        if(lives<=0){
            // alert('Game Over')
            Swal.fire({
                title: 'Game Over.',
                width: 700,
                padding: '3em',
                background: '#fff',
                
                
              }).then(()=>{

                location.reload();

                
              })

        }else{
        $("#gameBoard").fadeOut(150);
       Swal.fire({
        title: `To finish this game, the mouse cursor should stay on the path.  lives: ${lives} `,
        width: 600,
        padding: '3em',
        background: '#fff',
        
      }).then(()=>{
        if(currentLvl==1){
            $("#gameBoard").delay(1200).fadeIn(150);
            makeWay(levelOne);
        }else{
            $("#gameBoard").delay(1200).fadeIn(150);
            mazelvl(currentLvl);
        }
        
      })
    }

      lives = lives-1;
    }
    
    //Make the way 
    const makeWay=(level)=>{
        for (let i = 0; i < level.length; i++) {
            $(`#${level[i]}`).removeClass('square').addClass('squareWay').addClass('.swing-top-fwd');
            $(`#${level[i]}`).addClass('way');   
        }
        starAndEnd(level)
    }
    //////set the star and end
    const starAndEnd=(arr)=>{
      
        let last = arr[arr.length-1];
        let last2 = arr[arr.length-2];

        
       
        // console.log(arrEnd);
        $(`#${arr}`).removeClass('hover').addClass('hoverStar').on('mouseover',StarMaze);
        $(`#${arr[1]}`).removeClass('hover').addClass('hoverStar').on('mouseover',StarMaze);
        
        $(`#${last}`).removeClass('hover').addClass('hoverEnd');
        $(`#${last}`).on('mouseover',EndMaze);
        $(`#${last2}`).removeClass('hover').addClass('hoverEnd');
        $(`#${last2}`).on('mouseover',EndMaze);

    }
    const StarMaze =()=>{
       console.log('Maze started')
       $(`#1`).addClass('lvnex');
    }
    const EndMaze =()=>{
         console.log('Maze Ended')
        if($(`#1`).hasClass('lvnex')){
            currentLvl= currentLvl+1; 
            $("#gameBoard").fadeOut(150);
            mazelvl(currentLvl); 

        }
    }
    const mazelvl=(nLvl)=>{
        
        console.log(nLvl)
        if(nLvl===2){
            
            makeNextMaze(nLvl);
            makeWay(levelTwo);
        }else if(nLvl===3){
            makeNextMaze(nLvl);
            makeWay(levelTheer);
        }else if(nLvl===4){
            makeNextMaze(nLvl);
            makeWay(levelFour);
        }else if(nLvl===5){
            console.log('lv5')
            $('#gameBoard').addClass('rotate-center')
            makeNextMaze(nLvl);
            makeWay(levelFour);
        }
        
    }


    const Welcome =()=>{
        $('#gameBoard').children().hide();
        $('#instruction').hide();
         
         const $h1 = $('<h1>').text('The Maze').appendTo('#gameBoard').attr('id','gameName');
         const $bt = $('<button>').appendTo('#gameBoard').text('Star').attr('id','gameStar').addClass('button');
         const $Footer = $('<p>').appendTo('#gameBoard').text('By Alexander Bermudez').attr('id','myName');

         $bt.on('click',()=>{
            $('#gameBoard').children().show().fadeIn(150);
            $('#instruction').show().fadeIn(150);
            $h1.hide().fadeOut(150)
            $bt.hide().fadeOut(150)
            $Footer.hide().fadeOut(150)
            makeMaze();
            makeWay(levelOne);
    
         })
         
    }

    

    Welcome();



})